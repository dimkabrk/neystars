<!DOCTYPE html>
<html lang="ru">
<head>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeyStars | Telegram Stars</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600;700&family=Montserrat:wght@700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Временные стили для отладки */
        .package-item.active {
            border: 2px solid #ffd700;
            background: rgba(255, 215, 0, 0.05);
        }
        #orderForm.show {
            display: block !important;
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="stars-bg"></div>
    
    <header class="glass">
        <div class="logo">
            <span class="logo-icon">✧</span>
            <span>NeyStars</span>
        </div>
    </header>

    <main>
        <section class="hero glass">
            <h1>Telegram Stars <span>по лучшей цене</span></h1>
            <p class="subtitle">Мгновенная доставка звёзд после оплаты</p>
            
            <div class="cta-container">
                <a href="#purchase" class="cta-btn pulse">Купить звёзды сейчас</a>
                <div class="benefits">
                    <p>✓ Без скрытых комиссий</p>
                    <p>✓ Поддержка 24/7</p>
                    <p>✓ Мгновенная доставка</p>
                </div>
            </div>
        </section>
        
        <section id="purchase" class="purchase-section glass">
            <h2>Выберите пакет звёзд</h2>
            
            <div class="package-list">
                <div class="package-item">
                    <div class="package-info">
                        <span class="stars-count">50 звёзд</span>
                        <span class="stars-price">86 ₽</span>
                    </div>
                    <button class="buy-btn" data-stars="50" data-price="86">Выбрать</button>
                </div>
                
                <div class="package-item">
                    <div class="package-info">
                        <span class="stars-count">75 звёзд</span>
                        <span class="stars-price">130 ₽</span>
                    </div>
                    <button class="buy-btn" data-stars="75" data-price="130">Выбрать</button>
                </div>
                
                <div class="package-item">
                    <div class="package-info">
                        <span class="stars-count">500 звёзд</span>
                        <span class="stars-price">818 ₽</span>
                    </div>
                    <button class="buy-btn" data-stars="500" data-price="818">Выбрать</button>
                </div>
                
                <div class="package-item">
                    <div class="package-info">
                        <span class="stars-count">2,500 звёзд</span>
                        <span class="stars-price">3,950 ₽</span>
                    </div>
                    <button class="buy-btn" data-stars="2500" data-price="3950">Выбрать</button>
                </div>
            </div>
            
            <p class="footer-note">NeyStars — делаем процесс поддержки создателей быстрым, безопасным и приятным.</p>
            
            <div class="order-form glass" id="orderForm" style="display: none;">
                <h3>Оформление заказа</h3>
                <form id="purchaseForm">
                    <div class="form-group">
                        <label for="username">Ваш Telegram @username</label>
                        <input type="text" id="username" required placeholder="@username">
                        <div class="error-message" id="usernameError"></div>
                    </div>
                    <div class="selected-package" id="selectedPackage"></div>
                    
                    <div class="payment-notice">
                        <div class="notice-icon">!</div>
                        <p>Обязательно укажите в комментарии ваш Username, иначе сумма будет отправлена как донат</p>
                    </div>
                    
                    <button type="submit" class="payment-btn pulse-on-hover">Перейти к оплате</button>
                </form>
            </div>
        </section>
    </main>

    <footer class="glass">
        <div class="footer-content">
            <div class="footer-links">
                <a href="privacy.html" class="footer-link">Политика конфиденциальности</a>
                <span class="link-divider">|</span>
                <a href="rules.html" class="footer-link">Правила пользования</a>
            </div>
            <div class="telegram-link">
                <a href="https://t.me/ney_stars" target="_blank">
                    <i class="fab fa-telegram"></i> Наш канал
                </a>
            </div>
            <p class="copyright">© 2025 NeyStars</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Отладочная информация
            console.log('Скрипт загружен');
            
            // Элементы
            const packageItems = document.querySelectorAll('.package-item');
            const buyButtons = document.querySelectorAll('.buy-btn');
            const orderForm = document.getElementById('orderForm');
            const selectedPackage = document.getElementById('selectedPackage');
            const usernameInput = document.getElementById('username');
            const purchaseForm = document.getElementById('purchaseForm');
            
            console.log('Найдено пакетов:', packageItems.length);
            console.log('Найдено кнопок:', buyButtons.length);

            // Обработчик выбора пакета
            buyButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Удаляем активный класс у всех пакетов
                    packageItems.forEach(item => {
                        item.classList.remove('active');
                    });
                    
                    // Добавляем активный класс текущему пакету
                    const packageItem = this.closest('.package-item');
                    packageItem.classList.add('active');
                    
                    // Получаем данные пакета
                    const stars = this.getAttribute('data-stars');
                    const price = this.getAttribute('data-price');
                    
                    console.log('Выбран пакет:', { stars, price });
                    
                    // Показываем выбранный пакет
                    selectedPackage.innerHTML = `
                        <strong>Выбранный пакет:</strong><br>
                        ${stars} звёзд за ${price} ₽
                    `;
                    
                    // Показываем форму заказа
                    orderForm.classList.add('show');
                    orderForm.style.display = 'block';
                    
                    // Прокрутка к форме
                    orderForm.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    
                    // Фокус на поле ввода
                    usernameInput.focus();
                });
            });

            // Обработчик отправки формы
            purchaseForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const username = usernameInput.value.trim();
                const activePackage = document.querySelector('.package-item.active');
                
                if (!activePackage) {
                    alert('Пожалуйста, выберите пакет звёзд!');
                    return;
                }
                
                if (!username || !username.startsWith('@')) {
                    alert('Введите корректный Telegram @username');
                    return;
                }
                
                const stars = activePackage.querySelector('.buy-btn').getAttribute('data-stars');
                const price = activePackage.querySelector('.buy-btn').getAttribute('data-price');
                
                console.log('Отправка заказа:', { username, stars, price });
                alert('✅ Заказ успешно оформлен! Проверьте Telegram.');
                
                // Здесь будет код отправки данных на сервер
                // fetch('/api/order', { ... })
                
                // Сброс формы
                this.reset();
                orderForm.style.display = 'none';
                packageItems.forEach(item => item.classList.remove('active'));
            });
        });
    </script>
</body>
</html>
